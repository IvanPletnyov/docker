Docker allo unit tests
============

1. Установка
~~~~~~~~~~~~

#. Поставить в папку /mysql короткую базу для разворачивания, задать её имя dev_allo_ua_unit.sql (другое нельзя)
#. В файле dev_allo_ua_unit_additional_setup.sql правильно расставить конекты для баз PP и BUS
#. Удалить старые контейнеры и имейджи (если они есть, если это первый запуск докера их точно нет и этот шаг можно пропустить.
 Внимание, следующая команда удалит все контейнеры и имейджи)

    docker rm -f allo_unit_test; docker images prune; docker image rm $(docker images -aq --filter 'reference=docker_mysql_main_db:*');

#. В корне проекта запустить.

    docker-compose up --build -d;

Теперь база доступна по коннекту 127.0.0.2

2. Примечания
~~~~~~~~~~~~~

#. Разворачивание требует некоторого времени (чем больше база тем больше времени) но это скрытый процесс и вы его не увидите,
поэтому на короткой базе это занимает в среднем 5 минут (можно просматривать что делает БД по запросу show processlist; если процессов нету значит процесс завершен)
